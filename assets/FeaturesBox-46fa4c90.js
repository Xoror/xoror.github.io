import{r as m,j as e,R as C,A as N,u as p,a as v,b as F,F as r,I as t,B as S,c as h,d as y,e as E,f as D,M as o,g as T}from"./index-95023540.js";const w=({data:a,startEdit:u,handleDelete:n})=>{const c=m.useRef(null);return m.useEffect(()=>{if(c.current){const l=c.current;l.classList.toggle("scrollbar-on",l.scrollHeight>l.clientHeight)}},[]),e.jsxs("div",{className:"feature-card",children:[e.jsxs("div",{className:"feature-row",children:[e.jsx("div",{className:"feature-text",children:e.jsxs("p",{children:["Name: ",a.name]})}),e.jsx("div",{className:"feature-column",children:e.jsxs("div",{className:"feature-row",children:[e.jsx("button",{className:"react-icons-button edit",onClick:u,"aria-label":"edit feature button",children:e.jsx(C,{size:"1.5em",className:"edit-button"})}),e.jsx("button",{className:"react-icons-button delete",onClick:n,"aria-label":"delete feature button",children:e.jsx(N,{size:"1.5em",className:"delete-button"})})]})})]}),e.jsxs("div",{className:"feature-row",children:[e.jsx("div",{className:"feature-text",children:e.jsxs("span",{children:["Class: ",a.featureClass]})}),e.jsx("div",{className:"feature-text",children:e.jsxs("span",{children:[" Subclass: ",a.featureSubclass]})})]}),e.jsx("div",{className:"feature-row",children:e.jsx("div",{ref:c,className:"feature-description",children:Array.isArray(a.description)?a.description.map((l,d)=>e.jsx("p",{children:l},d)):e.jsxs("p",{children:["Description: ",a.description]})})})]})},L=a=>{const u=p(),[n,c]=v(),[l,d]=m.useState(!0),f=()=>{d(!1),c()},s=i=>{i.preventDefault(),d(!0)};a.id%2;const x=i=>{i.preventDefault();let j=a.id;u(y(j))},b=i=>{s(i),console.log(i.target[4].value.split(`
`));let j={name:i.target[0].value,level:i.target[1].value,featureClass:i.target[2].value,featureSubclass:i.target[3].value,description:i.target[4].value},g=a.id;u(E(j,g))};return e.jsx(F.Fragment,{children:l?e.jsx(w,{data:a.feature,startEdit:f,handleDelete:x}):e.jsx("div",{id:"feature-edit-form",className:l?"visually-hidden":null,children:e.jsx(r,{onSubmit:b,children:e.jsxs("div",{className:"feature-card edit",children:[e.jsxs(t,{children:[e.jsx(t.Text,{className:"top-left-group",children:"Name"}),e.jsx(r.Control,{autoFocus:!0,ref:n,type:"text",id:"change-name",defaultValue:a.feature.name,placeholder:"Enter feature name"}),e.jsx(t.Text,{children:"Level"}),e.jsx(r.Control,{className:"top-right-group",type:"text",id:"change-level",defaultValue:a.feature.level,placeholder:"Enter level"})]}),e.jsxs(t,{className:"mb",children:[e.jsx(t.Text,{className:"middle-left-group",children:" Class "}),e.jsx(r.Control,{type:"text",id:"change-class",defaultValue:a.feature.featureClass,placeholder:"Enter Class"}),e.jsx(t.Text,{children:" Subclass "}),e.jsx(r.Control,{className:"middle-right-group",type:"text",id:"change-subclass",defaultValue:a.feature.featureSubclass,placeholder:"Enter Subclass"})]}),e.jsx(r.Control,{className:"middle-left-group middle-right-group",as:"textarea",id:"change-description",defaultValue:a.feature.description,placeholder:"Enter Description"}),e.jsxs(S,{className:"mb",children:[e.jsx(h,{className:"bottom-left-group",variant:"success",type:"submit",children:" Submit Changes "}),e.jsx(h,{className:"bottom-right-group",variant:"danger",onClick:s,children:" Discard Changes "})]})]})})})},`feature-card-${a.feature.id}`)},k=()=>{const a=p(),u=D(s=>s.features.data),[n,c]=m.useState(!1),l=s=>{c(!1)},d=()=>c(!0),f=s=>{s.preventDefault(),s.target.id!="close"&&a(T({name:s.target[0].value,level:s.target[1].value,featureClass:s.target[2].value,featureSubclass:s.target[3].value,description:s.target[4].value}))};return e.jsxs(e.Fragment,{children:[e.jsxs(o,{backdrop:!0,"aria-labelledby":"add-class-feature",size:"lg",show:n,onHide:l,children:[e.jsx(o.Header,{closeButton:!0,children:e.jsx(o.Title,{id:"add-class-feature",children:"Adding a Class feature"})}),e.jsxs(r,{onSubmit:f,children:[e.jsx(o.Body,{children:e.jsxs(e.Fragment,{children:[e.jsxs(t,{children:[e.jsx(t.Text,{className:"top-left-group",id:"FeatureName",children:"Feature: "}),e.jsx(r.Control,{required:!0,placeholder:"Feature","aria-label":"Feature Name","aria-describedby":"feature-name"}),e.jsx(t.Text,{id:"FeatureLevel",children:"Level: "}),e.jsx(r.Control,{required:!0,className:"top-right-group",placeholder:"Level","aria-label":"Feature Level","aria-describedby":"feature-level"})]}),e.jsxs(t,{children:[e.jsx(t.Text,{className:"middle-left-group",id:"FeatureClass",children:"Class: "}),e.jsx(r.Control,{required:!0,placeholder:"Class","aria-label":"Feature Class","aria-describedby":"feature-class"}),e.jsx(t.Text,{id:"FeatureSubclass",children:"Sub Class: "}),e.jsx(r.Control,{required:!0,className:"middle-right-group",placeholder:"Subclass","aria-label":"Feature Subclass","aria-describedby":"feature-subclass"})]}),e.jsxs(t,{children:[e.jsx(t.Text,{className:"bottom-left-group",children:"Feature Description: "}),e.jsx(r.Control,{required:!0,className:"bottom-right-group",as:"textarea","aria-label":"feature-description"})]})]})}),e.jsxs(o.Footer,{children:[e.jsx(h,{variant:"danger",type:"button",onClick:l,children:"Close"}),e.jsx(h,{variant:"primary",type:"submit",children:"Save Changes"})]})]})]}),e.jsx("div",{className:"features-list",id:"features-list",children:u.map((s,x)=>e.jsx(L,{feature:s,id:x},`features-list-feature-${s.name}-${x}`))}),e.jsx(h,{variant:"primary",style:{width:"100%"},onClick:d,children:"Add a feature"})]})};export{k as default};
