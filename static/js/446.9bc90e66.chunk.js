(self.webpackChunkdnd_sheet_test=self.webpackChunkdnd_sheet_test||[]).push([[446],{7446:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return O}});var r=n(9439),i=n(2791),a=n(9434),o=n(9140),s=n(3360),l=n(6144),c=n(2591),d=n(4165),u=n(5861),h=n(4241),m=n(8820),f=n(7425),p=n(6856),g=n(4251),x=n(9743),y=n(2677),b=n(184),j=function(e){var t;return t=void 0!=e.data?e.data:{name:e.name,category:e.category,rarity:e.rarity,quantity:e.quantity,worth:e.worth,weight:e.weight,description:e.description,attunable:e.attunable,attuneRequirement:e.attuneRequirement},(0,b.jsxs)("div",{className:"".concat(e.show," itemcard"),children:[(0,b.jsx)("h4",{children:t.name}),(0,b.jsxs)("h6",{children:[" (",t.category,", ",t.rarity,") "]}),(0,b.jsxs)(x.Z,{className:"itemcard-row",children:[(0,b.jsx)(y.Z,{children:(0,b.jsx)("span",{children:" Quantity: "})}),(0,b.jsx)(y.Z,{md:"auto",children:t.qty})]}),(0,b.jsxs)(x.Z,{className:"itemcard-row",children:[(0,b.jsx)(y.Z,{children:(0,b.jsx)("span",{children:" Worth: "})}),(0,b.jsxs)(y.Z,{md:"auto",children:["-"===t.worth?"-":parseInt(t.qty)*parseFloat(t.worth)," ",parseInt(t.qty)>1?(0,b.jsxs)("span",{children:["(",t.worth,") "]}):null," gp"]})]}),(0,b.jsxs)(x.Z,{className:"itemcard-row",children:[(0,b.jsx)(y.Z,{children:(0,b.jsx)("span",{children:" Weight: "})}),(0,b.jsxs)(y.Z,{md:"auto",children:["-"===t.weight?"-":parseInt(t.qty)*parseFloat(t.weight)," ",parseInt(t.qty)>1?(0,b.jsxs)("span",{children:["(",t.weight,")  "]}):null," lbs"]})]}),(0,b.jsx)(x.Z,{children:(0,b.jsx)(y.Z,{className:"itemcard-section overflow",children:t.description.map((function(e,t){return(0,b.jsxs)("p",{style:{paddingRight:"0.5em",textAlign:"justify"},children:[" ",e," "]},"item-description-paragraph-".concat(t))}))})}),(0,b.jsx)("section",{children:t.attunable?(0,b.jsxs)("p",{className:"actioncard-footer",children:[" Attunement: ",t.attuneRequirement," "]}):(0,b.jsx)("p",{className:"actioncard-footer",children:" No attunement required "})})]},e.id)},v=function(e){var t=(0,a.I0)(),n=(0,i.useState)({filtered:!0,id:"",name:"Loading...",container:"",category:"",qty:"",worth:"",weight:"",isEquipped:"",rarity:"",attunable:"",attuned:"",attuneRequirement:"",description:[]}),o=(0,r.Z)(n,2),c=o[0],x=o[1],y=(0,i.useState)(1),v=(0,r.Z)(y,2),w=v[0],Z=v[1],C=void 0!==e.offCanvas,S=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(t){var n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.dnd5eapi.co"+t.url);case 2:if((n=e.sent).ok){e.next=7;break}console.log("Data coud not be fetched!"),e.next=8;break;case 7:return e.abrupt("return",n.json());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a={isEquipped:!1};if("Mundane Items"===e.header)a.id=r,a.name=n.name,a.qty=void 0===n.quantity?1:n.quantity,"gp"===n.cost.unit?a.worth=n.cost.quantity:"sp"===n.cost.unit?a.worth=n.cost.quantity/10:"cp"===n.cost.unit&&(a.worth=n.cost.quantity/100),a.weight=void 0!=n.weight?n.weight:0,a.rarity="Mundane",a.attunable=!1,a.description=n.desc,"equipment-packs"===n.equipment_category.index||"kits"===n.equipment_category.index?a.category="Other":"weapon"===n.equipment_category.index?a.category=n.weapon_category+" "+n.weapon_range+" Weapon":"armor"===n.equipment_category.index?a.category="Shield"===n.armor_category?"Shield":n.armor_category+" Armor":"mounts-and-vehicles"===n.equipment_category.index?"mounts-and-other-animals"===n.vehicle_category?a.category="Vehicle (Land)":"Waterborne Vehicles"===n.vehicle_category?a.category="Vehicle (Water)":a.category="Vehicle (Land)":"mounts-and-other-animals"===n.equipment_category.index||"other-tools"===n.equipment_category.index?a.category="Other":"shields"===n.equipment_category.index?a.category="Shield":"tools"===n.equipment_category.index?"Gaming Sets"===n.tool_category?a.category="Gaming Set":"Musical Instrument"===n.tool_category?a.category="Instrument":"Artisan's Tools"===n.tool_category?a.category="Artisan's Tools":a.category=n.tool_category:a.category=n.equipment_category.name,void 0!=n.gear_category&&"Ammunition"===n.gear_category.name&&(a.category="Ammunition"),void 0!=n.gear_category&&"Arcane Foci"===n.gear_category.name&&(a.category="Arcane Focus"),void 0!=n.gear_category&&"Druidic Foci"===n.gear_category.name&&(a.category="Druidic Focus"),void 0!=n.gear_category&&"Holy Symbols"===n.gear_category.name&&(a.category="Holy Symbol");else if("Wondrous Items"===e.header){a.id=r,a.name=n.name,a.qty=void 0===n.quantity?1:n.quantity,a.worth="-",a.weight="-";var o=n.desc[0].split(","),s=(o[1].split(" "),o[1].indexOf("(")),l=o[1].indexOf(")");a.rarity=n.rarity.name,a.attunable=!!n.desc[0].includes("requires attunement"),a.attuneRequirement=a.attunable?o[1].slice(s+1,l):"bla",a.description=n.desc,a.category="Wondrous Item"}"addItemList"===i&&(a.container=e.selectedContainer,a.qty=w,"-"===a.worth&&(a.worth=0),"-"===a.weight&&(a.weight=0),t((0,g.jX)(a))),x(a)},I=e.cardID,q=(0,i.useState)([!1,"bla"]),N=(0,r.Z)(q,2),A=N[0],F=N[1],E=(0,i.useState)([!1,I]),_=(0,r.Z)(E,2),R=_[0],O=_[1];(0,i.useEffect)((function(){R[1]!=I&&O([R[0],I])}),[R,I]);var W=function(t,n){var r;I=e.cardID,C&&S(e.bodies.find((function(e){return e.id===n}))).then((function(e){k(e,n)})).catch((function(e){console.log(e.message)})),A[0]&&A[1]===n?F([!1,"bla"]):F([!0,n]),r="inventory-table-row-id-".concat(n),M(document.getElementById(r)),e.setCardID(n),I=n,R[1]===n?O([!R[0],n]):R[0]?(O([R[0],n]),e.setCardID(n)):O([!R[0],n])},D=function(t,n){t.stopPropagation(),"inc"===n?Z(w+1):"dec"===n?Z(w-1):""!=e.selectedContainer?S(e.bodies.find((function(e){return e.id===n}))).then((function(e){k(e,n,"addItemList")})).catch((function(e){console.log(e.message)})):(e.setContainerFocus(),e.containerFocus.current.scrollIntoView())},V=(0,i.useState)(null),L=(0,r.Z)(V,2),z=L[0],M=L[1],T=(0,i.useState)(null),B=(0,r.Z)(T,2),P=B[0],H=(B[1],(0,i.useState)(null)),U=(0,r.Z)(H,2),Q=U[0],G=(U[1],(0,h.D)(z,P,{placement:"right",modifiers:[{name:"arrow",options:{element:Q}},{name:"offset",options:{offset:[0,10]}}]}));G.styles,G.attributes;return(0,b.jsxs)(b.Fragment,{children:[C?(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{style:{borderBottom:"0px hidden black"},children:[(0,b.jsxs)("td",{children:[" ",e.header," "]}),(0,b.jsx)("td",{})]})}):"Equipment"===e.container.label?(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{style:{borderBottom:"0px hidden black"},children:[(0,b.jsx)("td",{}),(0,b.jsx)("td",{children:" Name "}),(0,b.jsx)("td",{children:" Qty "}),(0,b.jsxs)("td",{children:[" Weight",(0,b.jsx)("br",{}),"lbs "]}),(0,b.jsxs)("td",{children:[" Worth",(0,b.jsx)("br",{}),"gp "]}),(0,b.jsx)("td",{})]})}):null,(0,b.jsxs)("tbody",{children:[C?(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:" Name "}),(0,b.jsx)("td",{children:" "})]}):(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{}),(0,b.jsxs)("td",{children:[(0,b.jsxs)("b",{children:[e.container.label," "]}),e.container.containsWeight,0===e.container.maxWeightIn?null:"/"+e.container.maxWeightIn," lbs"]}),(0,b.jsx)("td",{}),(0,b.jsxs)("td",{children:[" ",0!=e.container.weight?e.container.weight:null," "]}),(0,b.jsx)("td",{}),"Equipment"!=e.container.label?(0,b.jsx)("td",{style:{paddingRight:"0",paddingLeft:"0",zIndex:"2",width:"4.5em"},children:(0,b.jsxs)("div",{style:{paddingRight:"0",paddingLeft:"0",zIndex:"2"},children:[(0,b.jsx)("button",{className:"react-icons-button",onClick:function(t){return function(t,n){t.stopPropagation(),e.setDefaultContainerValues(n),e.setContainerEditing(!0),e.setShowAddContainer(!0)}(t,e.container)},"aria-label":"edit container button",children:(0,b.jsx)(f.Wlu,{size:"1.5em",className:"edit-button"})}),(0,b.jsx)("button",{className:"react-icons-button",onClick:function(n){return r=e.container.id,void t((0,g.Ct)(r));var r},"aria-label":"delete container button",children:(0,b.jsx)(m.FNM,{size:"1.5em",className:"delete-button"})})]})}):(0,b.jsx)("td",{})]}),0===e.bodies.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:6,children:["No items ",C?" match":"in "+e.container.label]})}):e.bodies.map((function(n,r){return(0,b.jsxs)(i.Fragment,{children:[(0,b.jsxs)("tr",{className:"action-table",id:"inventory-table-row-id-".concat(n.id),onClick:function(e){return W(0,n.id)},children:[C?null:(0,b.jsx)("td",{style:{height:"1.5em",width:"1.5em",zIndex:"2"},children:(0,b.jsx)("div",{className:"checkbox-wrapper letter-e",children:(0,b.jsx)("input",{type:"checkbox",id:n.name,value:"prepared",onClick:function(e){return function(e,n){e.stopPropagation();var r=e.target.checked;t((0,g.DH)(n,r))}(e,n.id)},defaultChecked:n.isEquipped})})}),(0,b.jsxs)("td",{children:[n.name,null]}),C?(0,b.jsx)("td",{children:(0,b.jsxs)(l.Z,{style:{float:"right",minWidth:"110px",zIndex:"5"},"aria-label":"adjust quantity of items to add",children:[(0,b.jsx)(s.Z,{style:{padding:"0 0.25em 0 0.25em",border:"1px solid black"},variant:"danger",onClick:function(e){return D(e,"dec")},children:"-"}),(0,b.jsxs)(s.Z,{style:{padding:"0 0.25em 0 0.25em",border:"1px solid black"},variant:"dark",onClick:function(e){return D(e,n.id)},children:["Add ",w]}),(0,b.jsx)(s.Z,{style:{padding:"0 0.25em 0 0.25em",border:"1px solid black"},variant:"success",onClick:function(e){return D(e,"inc")},children:"+"})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("td",{children:[" ",n.qty," "]}),(0,b.jsxs)("td",{children:[" ",n.qty*n.weight," "]}),(0,b.jsxs)("td",{children:[" ",n.qty*parseFloat(n.worth)," "]}),(0,b.jsx)("td",{style:{paddingRight:"0",paddingLeft:"0",zIndex:"2",width:"4.5em"},children:(0,b.jsxs)("div",{style:{paddingRight:"0",paddingLeft:"0",height:"1.5em",zIndex:"2"},children:[(0,b.jsx)("button",{className:"react-icons-button",onClick:function(t){return function(t,n){t.stopPropagation(),e.setDefaultValues(n),e.setOldData(n),e.changeEditing(!0),e.setInputFocus(),e.inputRef.current.scrollIntoView()}(t,n)},"aria-label":"edit item button",children:(0,b.jsx)(f.Wlu,{size:"1.5em",className:"edit-button"})}),(0,b.jsx)("button",{className:"react-icons-button",onClick:function(e){return r=n.id,void t((0,g.wz)(r));var r},"aria-label":"delete item button",children:(0,b.jsx)(m.FNM,{size:"1.5em",className:"delete-button"})}),A[0]&&A[1]===n.id?(0,b.jsx)("button",{className:"react-icons-button",onClick:function(e){return F([!1,"bla"])},"aria-label":"expand ".concat(e.spells?"spell":"action"," details"),children:(0,b.jsx)(p.Faw,{size:"1.5em",className:"expand-button"})}):(0,b.jsx)("button",{className:"react-icons-button",onClick:function(e){return F([!0,n.id])},"aria-label":"expand ".concat(e.spells?"spell":"action"," details"),children:(0,b.jsx)(p.Yc6,{size:"1.5em",className:"expand-button"})})]})})]})]},"inventory-table-row-id-".concat(void 0===n.id?r:n.id)),C?A[0]&&A[1]===n.id?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{style:{borderRight:"1px solid rgba(1,1,1,0.5)",borderLeft:"1px solid rgba(1,1,1,0.5)"},colSpan:6,children:(0,b.jsx)(j,{id:"itemcard-".concat(n.id),data:c})})},"item-details-id-".concat(n.id)):null:A[0]&&A[1]===n.id?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{style:{borderRight:"1px solid rgba(1,1,1,0.5)",borderLeft:"1px solid rgba(1,1,1,0.5)"},colSpan:6,children:(0,b.jsx)(j,{id:"itemcard-".concat(n.id),data:n})})},"item-details-id-".concat(c.id)):null]},"sub-table-for-".concat(e.header,"-item-").concat(n.id))})),e.index!=e.containersLength-1?(0,b.jsx)("tr",{style:{height:"1em"}}):null]})]})},w=(n(1413),n(6648)),Z=n(3053),C=n(9410),S=(n(8531),n(5316)),k=function(e){(0,a.I0)();var t=(0,a.v9)((function(e){return e.inventory.containers})),n=e.handleSubmit,r=e.editing,i=e.setEditing,o=e.defaultValues,l=e.setDefaultValues,c=e.handleSelectValues,d=e.itemTemplate,u=function(t){t.preventDefault(),e.setShowAddItem(!1),e.setShowQuickAddItem(!1),n(t)},h=function(n){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(S.Z.Body,{children:[(0,b.jsxs)(C.Z,{children:[(0,b.jsx)(Z.Z,{controlId:"item-name",label:"Name",children:(0,b.jsx)(w.Z.Control,{ref:e.inputRef,className:"".concat(n?"top":"middle","-left-group"),value:o.name,required:!0,placeholder:"",onChange:function(e){return c(e,"name")}})}),(0,b.jsx)(Z.Z,{controlId:"item-category",label:"Category",children:(0,b.jsxs)(w.Z.Select,{"aria-labelledby":"item-category",value:o.category,required:!0,onChange:function(e){return c(e,"category")},children:[(0,b.jsx)("option",{value:"",children:"Choose Item Category"}),m.map((function(e,t){return(0,b.jsx)("option",{value:e,children:e},"category-option-".concat(e))}))]})}),(0,b.jsx)(Z.Z,{controlId:"item-container",label:"Container",children:(0,b.jsxs)(w.Z.Select,{"aria-labelledby":"item-container",className:"".concat(n?"top":"middle","-right-group"),value:o.container,required:!0,placeholder:"Select or create Container...",onChange:function(e){return c(e,"container")},children:[(0,b.jsx)("option",{value:"",children:"Choose Container"}),t.map((function(e,t){return(0,b.jsx)("option",{value:e.id,children:e.label},"container-option-".concat(e.value))}))]})})]}),(0,b.jsxs)(C.Z,{children:[(0,b.jsx)(Z.Z,{controlId:"item-quantity",label:"Quantity",children:(0,b.jsx)(w.Z.Control,{"aria-labelledby":"item-quantity",className:"middle-left-group",value:o.qty,onChange:function(e){return c(e,"qty")},required:!0,type:"number",min:"0",placeholder:""})}),(0,b.jsx)(Z.Z,{controlId:"item-worth",label:"Worth (1, gp)",children:(0,b.jsx)(w.Z.Control,{"aria-labelledby":"item-worth",value:o.worth,onChange:function(e){return c(e,"worth")},required:!0,placeholder:"",type:"number",min:"0",step:"0.01"})}),(0,b.jsx)(Z.Z,{controlId:"item-weight",label:"Weight (1, lbs)",children:(0,b.jsx)(w.Z.Control,{"aria-labelledby":"item-weight",className:"middle-right-group",value:o.weight,onChange:function(e){return c(e,"weight")},required:!0,placeholder:"",type:"number",min:"0",step:"0.01"})})]}),(0,b.jsxs)(C.Z,{children:[(0,b.jsx)(Z.Z,{controlId:"item-is-wearing",label:"Is wearing?",children:(0,b.jsxs)(w.Z.Select,{"aria-labelledby":"item-is-wearing",className:"middle-left-group",type:"boolean",value:o.isEquipped,required:!0,onChange:function(e){return c(e,"isEquipped")},children:[(0,b.jsx)("option",{value:"",children:"Choose if wearing"}),(0,b.jsx)("option",{value:"true",children:"Yes"}),(0,b.jsx)("option",{value:"false",children:"No"})]})}),(0,b.jsx)(Z.Z,{controlId:"item-rarity",label:"Rarity",children:(0,b.jsxs)(w.Z.Select,{"aria-labelledby":"item-rarity",className:"middle-right-group",type:"text",value:o.rarity,required:!0,onChange:function(e){return c(e,"rarity")},children:[(0,b.jsx)("option",{value:"",children:"Choose Rarity"}),f.map((function(e,t){return(0,b.jsx)("option",{value:e,children:e},"rarity-option-".concat(e))}))]})})]}),(0,b.jsxs)(C.Z,{children:[(0,b.jsx)(Z.Z,{controlId:"item-is-attunable",label:"Is attunable?",children:(0,b.jsxs)(w.Z.Select,{"aria-labelledby":"item-is-attunable",className:"middle-left-group",type:"boolean",value:o.attunable,required:!0,onChange:function(e){return c(e,"attunable")},children:[(0,b.jsx)("option",{value:"",children:"Chose if attunable"}),(0,b.jsx)("option",{value:"true",children:"Yes"}),(0,b.jsx)("option",{value:"false",children:"No"})]})}),!0===o.attunable?(0,b.jsx)(Z.Z,{controlId:"item-is-attuned",label:"Is attuned?",children:(0,b.jsxs)(w.Z.Select,{"aria-labelledby":"item-is-attuned",type:"boolean",value:o.attuned,required:!0,onChange:function(e){return c(e,"attuned")},children:[(0,b.jsx)("option",{value:"",children:"Choose if attuned"}),(0,b.jsx)("option",{value:"true",children:"Yes"}),(0,b.jsx)("option",{value:"false",children:"No"})]})}):null,n?null:(0,b.jsx)(s.Z,{className:"middle-right-group",variant:"success","aria-label":"submit",type:"submit",children:"Submit"})]}),o.attunable?(0,b.jsx)(Z.Z,{controlId:"item-attune-requirement",label:"Attunement Requirement (e.g. 'requires attunement by a druid')",children:(0,b.jsx)(w.Z.Control,{as:"textarea","aria-labelledby":"item-attune-requirement",className:"middle-right-group middle-left-group",style:{height:"6em"},placeholder:"",value:o.attuneRequirement,onChange:function(e){return c(e,"attuneRequirement")}})}):null,(0,b.jsx)(Z.Z,{controlId:"item-description",label:"Description",children:(0,b.jsx)(w.Z.Control,{"aria-labelledby":"item-description",style:{height:"8em"},required:!0,className:"bottom-left-group bottom-right-group",as:"textarea",placeholder:"",value:o.description,onChange:function(e){return c(e,"description")}})})]}),n?(0,b.jsxs)(S.Z.Footer,{children:[(0,b.jsx)(s.Z,{variant:"danger",onClick:function(){return e.setShowAddItem(!1)},children:"Close"}),(0,b.jsx)(s.Z,{variant:"primary",type:"submit",children:"Save Changes"})]}):null]})},m=["Adventuring Gear","Ammunition","Arcane Focus","Armor","Artisan's Tools","Druidic Focus","Gaming Set","Heavy Armor","Holy Symbol","Instrument","Light Armor","Martial Melee Weapon","Martial Ranged Weapon","Medium Armor","Poison","Potion","Other","Ring","Rod","Scroll","Shield","Simple Melee Weapon","Simple Ranged Weapon","Spellcasting Focus","Staff","Vehicle (Air)","Vehicle (Land)","Vehicle (Water)","Wand","Wondrous Item"],f=["Mundane","Common","Uncommon","Rare","Very Rare","Legendary","Artifact","Unknown"];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{"aria-labelledby":"".concat(r?"edit":"quick-add-new","-item"),style:{color:"black"},className:e.showQuickAddItem?null:"visually-hidden",children:[(0,b.jsxs)(C.Z,{children:[(0,b.jsxs)(C.Z.Text,{as:"label",id:"".concat(r?"edit":"quick-add-new","-item"),className:"top-left-group top-right-group",style:{flexGrow:"2"},children:[" ",r?"Currently editing: "+o.name:"Add New Item"," "]}),r?(0,b.jsx)(s.Z,{className:"top-right-group",onClick:function(){return i(!1),l(d)},children:"Cancel"}):""]}),(0,b.jsx)(w.Z,{"aria-label":"quick-add-new-item-form",onSubmit:function(e){return u(e)},children:h(!1)})]}),(0,b.jsxs)(S.Z,{backdrop:"static","aria-labelledby":"add-new-item-dialog",contentClassName:"modal-custom",size:"lg",show:e.showAddItem,onHide:function(){return e.setShowAddItem(!1)},children:[(0,b.jsx)(S.Z.Header,{closeButton:!0,children:(0,b.jsx)(S.Z.Title,{as:"label",id:"add-new-item-dialog",children:"Adding a new Item"})}),(0,b.jsx)(w.Z,{"aria-labelledby":"add-new-item",style:{color:"black"},onSubmit:function(e){return u(e)},children:h(!0)})]})]})},I=function(e){(0,a.I0)();var t=structuredClone(e.defaultContainerValues),n=e.handleContainerClick,r=e.showAddContainer,i=e.setShowAddContainer,o=e.defaultContainerValues,l=e.setDefaultContainerValues,c=e.containerEditing,d=e.setContainerEditing,u=e.containerTemplate,h=e.handleContainerSelectValues;return(0,b.jsxs)(S.Z,{backdrop:"static","aria-labelledby":"add-new-container-dialog",contentClassName:"modal-custom",size:"lg",show:r,onHide:function(){return i(!1),d(!1),l(u)},children:[(0,b.jsx)(S.Z.Header,{closeButton:!0,children:(0,b.jsx)(S.Z.Title,{as:"label",id:"add-new-container-dialog",children:"Adding a new Container"})}),(0,b.jsxs)(w.Z,{"aria-labelledby":"add-new-container",onSubmit:function(e){return n(e,t)},children:[(0,b.jsxs)(S.Z.Body,{children:[(0,b.jsxs)(C.Z,{children:[(0,b.jsxs)(C.Z.Text,{as:"label",id:"add-new-container",className:"top-left-group top-right-group",style:{flexGrow:"2"},children:[" ",c?"Currently editing: "+o.label:"Add New Container"," "]}),c?(0,b.jsx)(s.Z,{className:"top-right-group",onClick:function(){return d(!1),l(u)},children:"Cancel"}):""]}),(0,b.jsxs)(C.Z,{children:[(0,b.jsx)(C.Z.Text,{as:"label",id:"container-label",className:"middle-left-group",children:"Name"}),(0,b.jsx)(w.Z.Control,{className:"middle-right-group",value:o.label,required:!0,placeholder:"Name","aria-labelledby":"container-label",onChange:function(e){return h(e,"label")}})]}),(0,b.jsxs)(C.Z,{children:[(0,b.jsx)(C.Z.Text,{as:"label",id:"container-weight",className:"bottom-left-group",children:"Weighs"}),(0,b.jsx)(w.Z.Control,{value:o.weight,required:!0,placeholder:"Weight (lbs)","aria-labelledby":"container-weight",type:"number",min:"0",onChange:function(e){return h(e,"weight")}}),(0,b.jsx)(C.Z.Text,{as:"label",id:"container-maximum-weight-allowed-in",className:"middle-left-group",children:"Maximum Weight allowed in"}),(0,b.jsx)(w.Z.Control,{className:"bottom-right-group",value:o.maxWeightIn,required:!0,placeholder:"Weight (lbs)","aria-labelledby":"container-maximum-weight-allowed-in",type:"number",min:"0",onChange:function(e){return h(e,"maxWeightIn")}})]})]}),(0,b.jsxs)(S.Z.Footer,{children:[(0,b.jsx)(s.Z,{variant:"danger",onClick:function(){return i(!1),d(!1),l(u)},children:"Close"}),(0,b.jsx)(s.Z,{variant:"primary",type:"submit",children:"Save Changes"})]})]})]})},q=n(6382),N=n(5167),A=n(891),F=function(e){(0,a.I0)();var t=(0,a.v9)((function(e){return e.inventory.containers})),n=(0,i.useState)(""),o=(0,r.Z)(n,2),s=o[0],l=o[1],h=(0,A.KK)(),m=(0,r.Z)(h,2),f=m[0],p=m[1],g=(0,i.useState)(!1),x=(0,r.Z)(g,2),y=x[0],j=x[1],Z=(0,i.useState)("0"),S=(0,r.Z)(Z,2),k=S[0],I=S[1],F=(0,i.useState)([]),_=(0,r.Z)(F,2),R=_[0],O=_[1],W=(0,i.useState)([]),D=(0,r.Z)(W,2),V=D[0],L=D[1],z=e.inheritShow,M=e.setInheritShow,T=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.dnd5eapi.co/api/equipment");case 2:if((t=e.sent).ok){e.next=7;break}console.log("Data coud not be fetched!"),e.next=8;break;case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(){var t;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.dnd5eapi.co/api/magic-items");case 2:if((t=e.sent).ok){e.next=7;break}console.log("Data coud not be fetched!"),e.next=8;break;case 7:return e.abrupt("return",t.json());case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){T().then((function(e){e.results.forEach((function(e){return e.id=(0,q.x0)()})),O(e.results)})).catch((function(e){console.log(e.message)})),B().then((function(e){e.results.forEach((function(e){return e.id=(0,q.x0)()})),L(e.results)})).catch((function(e){console.log(e.message)}))}),[]),(0,i.useEffect)((function(){}),[O]);var P=function(){j(!1),$(""),M(!z)};(0,i.useEffect)((function(){z&&j(!0)}),[z]);var H=(0,i.useState)({spellslots:[],schools:[],ritual:[],classes:[]}),U=(0,r.Z)(H,2),Q=U[0],G=U[1],K=(0,i.useState)(""),Y=(0,r.Z)(K,2),X=Y[0],$=Y[1],J=(Object.keys(Q),[R,V]);return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(N.Z,{border:"dark",style:{color:"white",backgroundColor:"#6c757d",width:"478px",marginTop:"3em"},show:y,onHide:P,placement:"start",scroll:"true",children:[(0,b.jsx)(N.Z.Header,{closeButton:!0,onClick:P,children:(0,b.jsx)(N.Z.Title,{children:"Item List"})}),(0,b.jsxs)(N.Z.Body,{children:[(0,b.jsxs)(C.Z,{className:"mb-3 mt-1",children:[(0,b.jsx)(C.Z.Text,{id:"container-to-add-to",children:"Container to add Item to"}),(0,b.jsxs)(w.Z.Select,{ref:f,value:s,placeholder:"Container","aria-describedby":"container-to-add-to",onChange:function(e){return l(e.target.value)},children:[(0,b.jsx)("option",{value:"",children:"Choose container..."}),t.map((function(e,t){return(0,b.jsx)("option",{value:e.id,children:e.label},"container-label-".concat(e.label))}))]})]}),(0,b.jsx)(E,{filters:Q,searchField:X,setFilters:G,setSearchField:$}),null,(0,b.jsx)("div",{style:{marginLeft:"0.5em",marginRight:"0.5em"},children:(0,b.jsx)(c.Z,{size:"sm",style:{color:"white",border:"black"},children:["Mundane Items","Wondrous Items"].map((function(e,t){return(0,b.jsx)(v,{cardID:k,setCardID:I,header:e,bodies:J[t].filter((function(e){return!0===e.name.toLowerCase().includes(X.toLowerCase())})),offCanvas:!0,searchField:X,filters:Q,selectedContainer:s,containerFocus:f,setContainerFocus:p},"table-to-add-".concat(e))}))})},e.index)]})]})})},E=function(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Z.Control,{placeholder:"Search items...",type:"search",onChange:function(t){return e.setSearchField(t.target.value),function(t,n){var r=structuredClone(e.filters);"search"!=n?(r[n].push(t.target.value),e.setFilters(r)):"search"===n&&t.target.value}(t,"search")}}),null]})},_=function(e){var t=(0,i.useState)(6),n=(0,r.Z)(t,2),a=n[0],o=n[1],s=(0,i.useState)(0),c=(0,r.Z)(s,2),d=c[0],u=c[1],h=e.moneyPouch,m=Object.keys(e.moneyPouch),f=e.currenciesShortnames,p=[];void 0===e.colors?m.forEach((function(e){return p.push("white")})):p=e.colors;var g=function(e,t,n){return 0===e?"middle":e===t.length-1?"edit-submit"===n?"end-edit-submit":"edit-cancel"===n?"end-edit-cancel":"end":"middle"};return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(C.Z,{children:[(0,b.jsx)(C.Z.Text,{style:{border:"1px solid black"},children:"Money"}),m.map((function(t,n){return a!=n?(0,b.jsxs)("button",{className:g(n,m)+" money-edit-button",style:{backgroundColor:p[n]},onClick:function(e){!function(e,t){o(a!=t?t:6)}(0,n)},children:[h[t]," ",f[t]]},t):(0,b.jsxs)(l.Z,{id:"currency",vertical:!0,style:{zIndex:"5"},"aria-label":"adjust amount of ".concat(t," you have"),children:[(0,b.jsx)("button",{type:"submit",className:g(n,m,"edit-submit")+" submit-button",onClick:function(n){return function(t,n,r){o(6),e.handleCounter(t,n,r)}(n,t,d)},children:"Submit"}),(0,b.jsx)("input",{className:"middle edit-input",style:{backgroundColor:p[n]},defaultValue:h[t],onChange:function(e){u(e.target.value)}}),(0,b.jsx)("button",{className:g(n,m,"edit-cancel")+" cancel-button",onClick:function(e){return o(6)},children:"Cancel"})]},t)}))]})})},R=n(763);function O(e){var t=(0,a.I0)(),n=(0,a.v9)((function(e){return e.inventory.inventory})),d=(0,a.v9)((function(e){return e.inventory.currency})),u=(0,A.KK)(),h=(0,r.Z)(u,2),m=h[0],f=h[1],p={filtered:!0,id:"",name:"",container:"",category:"",qty:"",worth:"",weight:"",isEquipped:"",rarity:"",attunable:"",attuned:"",attuneRequirement:"",description:[""]},x={id:"",value:"",label:"",weight:0,containsWeight:0,maxWeightIn:0},y=(0,i.useState)(!1),j=(0,r.Z)(y,2),w=j[0],Z=j[1],C=(0,i.useState)(!1),S=(0,r.Z)(C,2),q=S[0],N=S[1],E=(0,i.useState)(!1),O=(0,r.Z)(E,2),W=O[0],D=O[1],V=(0,i.useState)(!1),L=(0,r.Z)(V,2),z=L[0],M=L[1],T=(0,i.useState)(!1),B=(0,r.Z)(T,2),P=B[0],H=B[1],U=(0,i.useState)(!1),Q=(0,r.Z)(U,2),G=Q[0],K=Q[1],Y=(0,i.useState)(p),X=(0,r.Z)(Y,2),$=X[0],J=X[1],ee=(0,i.useState)(x),te=(0,r.Z)(ee,2),ne=te[0],re=te[1],ie=(0,i.useState)({}),ae=(0,r.Z)(ie,2),oe=ae[0],se=ae[1],le=(0,i.useState)("0"),ce=(0,r.Z)(le,2),de=ce[0],ue=ce[1],he=(0,a.v9)((function(e){return e.inventory.containers})),me=function(e){H(e),D(e)};return(0,b.jsxs)(o.Z,{bg:"secondary",id:"Inventory",children:["false?",(0,b.jsx)("div",{children:(0,b.jsx)(_,{moneyPouch:d,currenciesShortnames:{platinum:"pt",electrum:"ep",gold:"gp",silver:"sp",copper:"cp"},colors:["#E5E4E2","#FFD700","#F2E279","#C0C0C0","#B87333"],handleCounter:function(e,n,r){"change"===n?console.log(r):t((0,g.fy)([n,r]))}})}),(0,b.jsx)("div",{style:{marginLeft:"0.5em",marginRight:"0.5em"},children:(0,b.jsx)(c.Z,{size:"sm",style:{color:"white",border:"black"},children:he.map((function(e,t){return(0,b.jsx)(v,{index:t,containersLength:he.length,cardID:de,setCardID:ue,setOldData:se,changeEditing:me,setContainerEditing:K,setShowAddContainer:M,setDefaultValues:J,setDefaultContainerValues:re,container:e,bodies:n.filter((function(t){return t.container===e.id})),inputRef:m,setInputFocus:f},"inventory-contained-in-".concat(e.value,"-id-").concat(e.id))}))})}),(0,b.jsx)(s.Z,{style:{width:"fit-content",marginBottom:"0.75em",marginRight:"auto",marginLeft:"auto"},onClick:function(e){return M(!0)},children:"Add Container"}),(0,b.jsx)(I,{containerTemplate:x,showAddContainer:z,setShowAddContainer:M,defaultContainerValues:ne,setDefaultContainerValues:re,containerEditing:G,setContainerEditing:K,handleContainerSelectValues:function(e,t){var n=structuredClone(ne);n[t]="weight"===t||"maxWeightIn"===t?parseFloat(e.target.value):e.target.value,re(n)},handleContainerClick:function(e,n){e.preventDefault(),G?(ne.id=n.id,t((0,g.PX)(ne)),K(!1)):(ne.value=ne.label.toLowerCase(),t((0,g.sO)(ne))),re(x)}}),(0,b.jsxs)(l.Z,{children:[(0,b.jsx)(s.Z,{onClick:function(e){return N(!q)},children:"Add Item"}),(0,b.jsx)(s.Z,{onClick:function(e){return D(!W)},children:"Quick Add Item"}),(0,b.jsx)(s.Z,{onClick:function(e){return Z(!w)},children:"Browse Item List"})]}),(0,b.jsx)(F,{inheritShow:w,setInheritShow:Z}),(0,b.jsx)(k,{handleSubmit:function(e){e.preventDefault();var n=$;P?(R.isEqual(n,oe)||(n.id=oe.id,t((0,g.Ob)(n))),H(!1)):t((0,g.jX)(n)),J(p)},editing:P,setEditing:H,defaultValues:$,setDefaultValues:J,handleSelectValues:function(e,t){var n=structuredClone($),r=e.target.value;"true"===r?r=!0:"false"===r&&(r=!1),"description"===t&&(r=[r]),n[t]=r,J(n)},itemTemplate:p,inputRef:m,showAddItem:q,setShowAddItem:N,showQuickAddItem:W,setShowQuickAddItem:D})]})}},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var s,l,c,d;if(Array.isArray(e)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(!a(e[l],o[l]))return!1;return!0}if(n&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!a(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((s=e.length)!=o.length)return!1;for(l=s;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof o.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof o.toString)return e.toString()===o.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!a(e[c[l]],o[c[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},4241:function(e,t,n){"use strict";n.d(t,{D:function(){return C}});var r=n(2791),i=n(4164),a=n(761),o=n(1217),s=n(545),l=n(9224),c=n(3120),d=n(9265);var u={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];(0,d.Re)(i)&&(0,c.Z)(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});(0,d.Re)(r)&&(0,c.Z)(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},h=n(5934),m=n(5468),f=n(9790),p=n(8702),g=n(1668),x=[o.Z,s.Z,l.Z,u,h.Z,m.Z,f.Z,p.Z,g.Z],y=(0,a.kZ)({defaultModifiers:x}),b=n(77),j=n.n(b),v=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},w="undefined"!==typeof window&&window.document&&window.document.createElement?r.useLayoutEffect:r.useEffect,Z=[],C=function(e,t,n){void 0===n&&(n={});var a=r.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Z},s=r.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),l=s[0],c=s[1],d=r.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);i.flushSync((function(){c({styles:v(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:v(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),u=r.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[d,{name:"applyStyles",enabled:!1}])};return j()(a.current,e)?a.current||e:(a.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,d]),h=r.useRef();return w((function(){h.current&&h.current.setOptions(u)}),[u]),w((function(){if(null!=e&&null!=t){var r=(n.createPopper||y)(e,t,u);return h.current=r,function(){r.destroy(),h.current=null}}}),[e,t,n.createPopper]),{state:h.current?h.current.state:null,styles:l.styles,attributes:l.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}}}}]);
//# sourceMappingURL=446.9bc90e66.chunk.js.map